#!/usr/bin/env  cbqn

input ← (2⊸↑⋈2⊸↓)¨•BQN¨¨{𝕩∊"-1234567890"}⊸((¬-˜⊢×·+`»⊸>)⊸⊔)¨•Flines "input.txt"
Dist ← {x1‿y1 ← 𝕨 ⋄ x2‿y2 ← 𝕩 ⋄ (|x1-x2) + (|y1-y2) }
beacons ←  ≠{2e6=1⊑¨𝕩}⊸/⍷⊢´¨input
sensors ← {range‿⟨x,y⟩ ← 𝕩 ⋄ range≥(|y-2e6)}˘⊸/ >(Dist´⋈⊑)¨input
•Show beacons-˜1+(⌊´(+○|)⌈´)⥊{range‿⟨x,y⟩←𝕩 ⋄ x (-∾+) range - |y-2e6}˘sensors

Merge ← {(⊑∘⊑∾1⊑⊢´)¨ {+`0∾(2⊸⊑ > 1+1⊸⊑)∘∾˘2↕𝕩}⊸⊔∧𝕩}
Merge ⟨0‿1,0‿3,2‿4,3‿10,15‿20,16‿30,31‿35,33‿40,41‿42,42‿50⟩
